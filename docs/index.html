<!doctype html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">

    <title>Hello, world!</title>
</head>
<body>
<h1>Hello, world!</h1>

<script>
    const manifestContent = {
        name: 'HTML PWA App',
        short_name: 'html-pwa',
        description: 'Some PWA description app',
        start_url: '/?source=pwa',
        display: 'standalone',
        orientation: 'any',
        theme_color: '#ff0000',
        background_color: '#000000',
        icons: [
            {
                src: 'https://picsum.photos/32',
                sizes: '32x32',
                type: 'image/png',
            },
            {
                src: 'https://picsum.photos/64',
                sizes: '64x64',
                type: 'image/png',
            },
            {
                src: 'https://picsum.photos/128',
                sizes: '128x128',
                type: 'image/png',
            },
            {
                src: 'https://picsum.photos/256',
                sizes: '256x256',
                type: 'image/png',
            },
            {
                src: 'https://picsum.photos/512',
                sizes: '512x512',
                type: 'image/png',
            },
        ],
        ...Object.fromEntries(new URLSearchParams(window.location.search)),
    }

    const manifestLink = URL.createObjectURL(new Blob([JSON.stringify(manifestContent)], { type: 'application/json' }))

    const element = document.createElement('link')

    element.rel = 'manifest'
    element.href = manifestLink

    document.querySelector('head').appendChild(element);
</script>

</body>
</html>
